{% extends "base.html" %}

{% block content %}
<div class="container-fluid">
  <div class="row">
    <div class="col-sm-12">
      <h1>Ultimate-Tic-Tac-Toe</h1>
    </div>
  </div>
</div>
<div class="container-fluid">
{% for t in board %}
  {% if forloop.counter0|divisibleby:3 %}
  <div class="row">
  {% endif %}
    <div class="col-4">
    {% if needs_board and t.0 == 0 %}
      <button type="button" class="btn btn-primary">
    {% elif needs_board and t.0 == 1 %}
      <button type="button" class="btn btn-outline-success" disabled>
    {% elif needs_board and t.0 == 2 %}
      <button type="button" class="btn btn-outline-danger" disabled>
    {% endif %}
        {% for tok in t.1%}
          {% if forloop.counter0|divisibleby:3 %}
          <div class="row">
          {% endif %}
            <div class="col-4">
            {% if not needs_board and forloop.parentloop.counter0 == enabled_little_board and tok == 0 %}
              <button type="button" class="btn btn-primary">
            {% elif not needs_board %}
              {% if tok == 0 %}
                <button type="button" class="btn btn-outline-primary" disabled>
              {% elif tok == 1 %}
                <button type="button" class="btn btn-outline-success" disabled>
              {% elif tok == 2 %}
                <button type="button" class="btn btn-outline-danger" disabled>
              {% endif %}
            {% endif %}
            {{tok|add:0}}
            {% if not needs_board %}
              </button>
            {% endif %}
            </div>
          {% if forloop.counter0|add:1|divisibleby:3 %}
          </div>
          {% endif %}
        {% endfor %}
    {% if needs_board %}
      </button>
    {% endif %}
    </div>
  {% if forloop.counter0|add:1|divisibleby:3 %}
  </div>
  {% endif %}
{% endfor %}
</div>
{% endblock %}